5. :별: 트러블 슈팅 (Problem Solving) - 가장 중요!
• 문제 상황: 크롤링 막힘, API 제한, DB 오류 등 구체적 어려움
1. api 막힘 : 기간을 정하고 그 기간동안의 두쫀쿠 키워드에 대한 영상을 크롤링하다보니 api 크롤링 막힘현상 발생
    -> 1. 유투브 영상 전체 리스트를 뽑고 뽑은 영상 name에 대한 정보를 다시 호출하는 방식으로 설계하여 진행
    -> 2. 유투브 영상 조사기간이 일단위가 되면 우리가 세팅한 3개월(180번)을 호출하고 , 그에 업로드된 영상의 개수만큼 다시 api 호출되어 api 호출 횟수가 많아짐

2. 데이터 최신화 되지않음 : 유투브 데이터를 호출하고 insert하는 로직이 있어 ,insert하는 날짜가 있다면  기존에 있던 데이터에 덮어 씌우지 않고 같은 날짜의 데이터가 하나 더 생기는 현상 발생

3. Airflow 처음 켰을때 동작하고 , 이후 내가 설정한 시간대에 동작을 하지않는 이슈 발생


• 시도한 방법 및 해결책: 실패한 시도 포함
1. api 막힘 해결방법 :일별이 아닌 30일 단위로 영상 리스트를 불러와 api호출을 줄이는 방식으로 진행
        -> (사이드 이펙트 발생) : 이렇게 기간을 설정해서 데이터를 읽어올시 nextPageToken을 이용해서 반복할시 최대 500개의 영상을 가져오는데 두쫀쿠의 12월 업로드량이 해당 개수를 초과하여 불러오는 영상의 수가 누락되는 현상 발견
        -> (해결) 영상이 업로드된 날짜에 대한 기간을 5일 단위로 축소하여 불러와 누락 이슈 처리

2. 데이터 최신화 해결방법 :
        -> (1) : 데이터를 넣기전 한번 전체 데이터를 조회하여 insert날짜가 있는지 확인 후 있다면 update 쿼리를 요청하는 방식으로 진행
        -> (2) : select하면 자원이 낭비되니 insert 쿼리 동작시 쿼리문에 ON CONFLICT 조건을 사용해서 만약 날짜, 키워드 데이터가 이미 존재한다면 UPDATE하는 동작으로 로직 수정 (채탁)

• 배운 점: 이 과정을 통해 깨달은 것

