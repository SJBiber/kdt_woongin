# 🤖 여론 분석 프로젝트: AI 어시스턴트 협업 프롬프트 가이드

이 문서는 **임성근 셰프 여론 분석 프로젝트**의 현재 상태를 요약하고, 이후 AI와 효율적으로 협업하기 위한 마스터 프롬프트를 담고 있습니다.

## 📌 프로필 및 프로젝트 배경
*   **분석 대상**: 유튜브 '임성근' 채널의 특정 논란(흑백요리사/음주운전 과거) 전후 여론 변화.
*   **기술 스택**: Python, Supabase, BERT (KoELECTRA), DeepSeek LLM (OpenAI SDK), Selenium.
*   **데이터 스키마**: `im_sung_gen_youtube_comments` 테이블
    *   `sentiment_label` (BERT): 0(긍정), 1(부정), 2(중립)
    *   `llm_sentiment` (DeepSeek): 0(긍정), 1(부정), 2(중립)
    *   `keywords`: 명사 리스트

---

## 🛠️ AI에게 지시할 때 사용하는 [마스터 프롬프트]

이후 새로운 AI 세션을 시작하거나 추가 기능을 구현할 때 아래 내용을 복사해서 입력하세요.

> **[Prompt Start]**
> 너는 **유튜브 댓글 여론 분석 프로젝트**의 전문 개발자이자 분석가야. 현재 프로젝트 상황은 다음과 같아:
> 
> 1. **감성 분석 구조**: BERT(로컬)와 DeepSeek(API)를 병행하여 분석함. 데이터 저장 효율을 위해 0(Positive), 1(Negative), 2(Neutral)의 정수형 인덱스를 사용함. 
> 2. **DeepSeek 최적화**: 비용 및 속도 절감을 위해 20개씩 '배치(Batch)'로 묶어서 분석하며, 결과는 JSON 정수 배열로 받음.
> 3. **감정 정의**:
>    - 0(긍정): 응원, 복귀 희망, 격려, 훈훈한 내용.
>    - 1(부정): 비판, 비아냥, 조롱, 실망, 배신감, 반어법, 특정 키워드(짜친다, 쌔했다, 구취 등).
>    - 2(중립/유보): 단순 질문, 사건과 무관한 글, 지켜보자는 입장.
> 4. **DB 처리**: Supabase를 사용하며, 중복 방지를 위해 `comment_id` 기준 Upsert를 수행함.
> 
> **이후 우리가 해야 할 작업:**
> - [ ] 수집된 2,000건의 사과문 댓글 전체 분석 완료.
> - [ ] 사건 발생 전(1/18 이전) Baseline 영상 댓글 수집 및 분석.
> - [ ] Streamlit을 활용한 여론 변화 시각화 대시보드 제작 (BERT vs LLM 결과 비교 포함).
> 
> 이 맥락을 바탕으로 내 질문에 답변해줘.
> **[Prompt End]**

---

## 📋 핵심 파일 및 역할
*   `analyze_comments.py`: 수집-분석-저장 통합 파이프라인 (Batching 핵심 로직).
*   `analyzer/deepseek_analyzer.py`: "전문 마스터 분석기". 비아냥과 맥락을 읽는 LLM 엔진.
*   `analyzer/sentiment_analyzer.py`: 로컬 기반 초고속 BERT 분석기.
*   `database/schema.sql`: 최신 정수형 기반 DB 스키마 정의서.

---

## 💡 팁
*   **비용 절감**: DeepSeek 분석 시 반드시 `analyze_batch` 기능을 사용하여 한 번에 20개씩 처리하도록 유지하세요.
*   **무결성 유지**: DB 컬럼이 `INTEGER` 타입이므로, 코드에서 숫자로 결과를 내보내는지 항상 확인하세요.
*   **분석 고도화**: 특정 키워드(예: "재료 손질")에 대한 여론만 따로 보고 싶을 때는 `keywords` 필드를 활용해 필터링을 요청하세요.
