# 데이터 분석 상세 계획 (Analysis Plan)

원활한 지하철 운행 모니터링을 위해 다음 4가지 분석을 우선순위로 합니다.

## 1. 배차 간격 정기성 분석 (Interval Regularity)
- **목표**: 특정 역에 도착하는 열차들 사이의 시간 간격을 계산하여 배차가 밀리거나(Bunching) 너무 벌어지는 구간 탐지.
- **분석 방법**:
    1. 동일 역, 동일 상/하행선 기준, 연속된 열차의 `last_rec_time` 차이를 계산.
    2. 해당 노선의 공식 배차 간격과 비교.
    3. 표준 편차가 큰 구간 또는 시간대를 식별.

## 2. 지연 발생구간 탐지 (Delay Hotspots)
- **목표**: 역별 체류 시간(`train_status` 1->2 변화 시간)을 측정하여 평시보다 오래 멈춰있는 역을 실시간 시각화.
- **분석 방법**:
    1. `train_status`가 1(도착)인 시점과 2(출발)인 시점의 로그를 확보.
    2. 두 이벤트 간의 시간 차이(Dwell Time)를 계산.
    3. 평균 체류 시간을 초과하는 이상치(Outlier) 탐지.

## 3. 회차 효율성 분석 (Turnaround Efficiency)
- **목표**: 종착역에 도착한 열차가 다시 반대 방향으로 투입되기까지의 소요 시간을 분석하여 회차 병목 구간 확인.
- **분석 방법**:
    1. 종착역에 도착(`train_status`=1)한 `train_number`를 추적.
    2. 해당 열차가 반대 방향 노선으로 변경되어 최초 식별되는 시점까지의 시간 측정.

## 4. 급행/일반 열차 간섭 분석 (Congestion/Overtake)
- **목표**: 급행 열차가 일반 열차를 추월하거나 앞선 열차 때문에 서행하는 구간을 탐지하여 운행 최적화 지점 도출.
- **분석 방법**:
    1. 동일 구간 내 급행열차와 일반열차의 위치 데이터를 시계열로 비교.
    2. 급행열차의 속도가 현저히 줄어들거나, 일반 열차 바로 뒤에 붙어서 이동하는 패턴 식별.
